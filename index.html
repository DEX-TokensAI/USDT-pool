<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DEX Admin Panel</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
  <style>
    body {
      background-color: #1a1a2e;
      color: white;
    }
    .navbar, .card {
      background-color: #16213e;
    }
    .tabs li a {
      color: #00d1b2;
    }
    .tabs li.is-active a {
      border-bottom-color: #00d1b2;
    }
    .card-content input {
      background-color: #0f3460;
      border: none;
      color: white;
    }
    .card-content button {
      background-color: #00d1b2;
      border: none;
    }
    canvas {
      background-color: white;
      padding: 10px;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <section class="section">
    <div class="container">
      <div id="loginContainer">
        <div class="box" style="max-width: 400px; margin: auto;">
          <h1 class="title has-text-centered">Admin Login</h1>
          <div class="field">
            <label class="label">Username</label>
            <div class="control">
              <input id="username" class="input" type="text">
            </div>
          </div>
          <div class="field">
            <label class="label">Password</label>
            <div class="control">
              <input id="password" class="input" type="password">
            </div>
          </div>
          <p id="loginError" class="has-text-danger" style="display:none;">Invalid credentials</p>
          <button class="button is-fullwidth is-primary" onclick="login()">Login</button>
        </div>
      </div>

      <div id="dashboard" style="display: none;">
        <div class="tabs is-toggle is-centered">
          <ul>
            <li class="is-active" onclick="showTab('overview')"><a>Dashboard</a></li>
            <li onclick="showTab('pancakeswap')"><a>PancakeSwap</a></li>
            <li onclick="showTab('deposit')"><a>Deposit</a></li>
            <li onclick="showTab('withdraw')"><a>Withdraw</a></li>
          </ul>
        </div>

        <div id="overview" class="content" style="display: block;">
          <div class="card">
            <div class="card-content">
              <h2 class="title">Liquidity Pool</h2>
              <canvas id="liquidityChart" height="100"></canvas>
            </div>
          </div>
        </div>

        <div id="pancakeswap" class="content" style="display: none;">
          <div class="card">
            <div class="card-content">
              <h2 class="title">PancakeSwap Info</h2>
              <p>Coming soon...</p>
            </div>
          </div>
        </div>

        <div id="deposit" class="content" style="display: none;">
          <div class="card">
            <div class="card-content">
              <h2 class="title">Deposit</h2>
              <p>Your wallet address:</p>
              <code>0x630412e17E1D4D2f44Cfa997Ac0FaBdDaC222e16</code>
            </div>
          </div>
        </div>

        <div id="withdraw" class="content" style="display: none;">
          <div class="card">
            <div class="card-content">
              <h2 class="title">Withdraw</h2>
              <input type="text" class="input" placeholder="Enter recipient wallet address">
              <button class="button is-fullwidth is-primary" style="margin-top: 10px;">Submit</button>
              <!-- Pending transaction will be injected here -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    function login() {
      const username = document.getElementById("username").value.trim();
      const password = document.getElementById("password").value.trim();
      if (username === "DexDeveloper" && password === "ai654321") {
        document.getElementById("loginContainer").style.display = "none";
        document.getElementById("dashboard").style.display = "flex";
      } else {
        document.getElementById("loginError").style.display = "block";
      }
    }

    function showTab(id) {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.content').forEach(c => c.style.display = 'none');
      document.getElementById(id).style.display = 'block';
      event.target.classList.add('active');
    }

    window.onload = function() {
      const ctx = document.getElementById('liquidityChart');
      if (ctx) {
        new Chart(ctx, {
          type: 'line',
          data: {
            labels: ['Day 1', 'Day 2', 'Day 3', 'Day 4', 'Day 5'],
            datasets: [{
              label: 'Liquidity (USDT)',
              data: [12000, 11950, 12030, 11980, 12000],
              backgroundColor: 'rgba(0, 209, 178, 0.2)',
              borderColor: '#00d1b2',
              borderWidth: 2,
              tension: 0.3,
              fill: true
            }]
          },
          options: {
            scales: {
              y: {
                beginAtZero: false
              }
            }
          }
        });
      }

      document.getElementById("username").addEventListener("keydown", function(e) {
        if (e.key === "Enter") login();
      });
      document.getElementById("password").addEventListener("keydown", function(e) {
        if (e.key === "Enter") login();
      });

      const submitBtn = document.querySelector("#withdraw button");
      const inputField = document.querySelector("#withdraw input[type='text']");
      
      submitBtn.addEventListener("click", function() {
        const address = inputField.value.trim();
        if (address.length > 0) {
          let txBox = document.getElementById("pendingTx");
          if (!txBox) {
            txBox = document.createElement("div");
            txBox.id = "pendingTx";
            txBox.style.marginTop = "20px";
            txBox.style.padding = "15px";
            txBox.style.backgroundColor = "#3a3a55";
            txBox.style.borderRadius = "10px";
            txBox.style.color = "#00d1b2";
            document.querySelector("#withdraw .card").appendChild(txBox);
          }
          txBox.innerHTML = `
            <p><strong>Transaction:</strong> Withdrawal request to <span style="word-break: break-all;">${address}</span></p>
            <p>Status: <em>Pending confirmation...</em></p>
          `;
        }
      });
    }
  </script>
</body>
</html>
